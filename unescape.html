<!DOCTYPE html>
<style>
    .myCode {
        width: 50%;
        height: 10rem;
    }

    .ab {

        width: 50%;
        height: 1rem;
    }

    .myRot1 {
        width: 50%;
        height: 10rem;
    }
</style>
<html>

<body>
    Input Below<br>
    <textarea class="myCode" id="myTextarea"></textarea>
    <p></p>
    <textarea class="myCode" id="oot"></textarea>
    <p></p>
    <button type="button" onclick="myFunction()">Decode</button>
    <p></p>
    <textarea class="ab" id="Atob"></textarea>
    <br>
    <br>
    <button type="button" onclick="ab()">A to B</button>
    <br>
    <br>
    <textarea class="myRot1" id="myRot1"></textarea>
    <br>
    <br>
    <button type="button" onclick="rot1()">Roti 1</button>
    <script>
        function myFunction() {
            outpp = ""
            inpu = document.getElementById("myTextarea").value.split("%")
            inpu.forEach(e => {
                outpp += String.fromCharCode(parseInt(e, 16))
            });
            document.getElementById("oot").value = outpp
        }

        function ab() {
            h = document.getElementById("Atob").value
            document.getElementById("Atob").value = atob(h)
        }


        const rot1 = () => {
            rot = []
            konk = []


            inpu = document.getElementById("myTextarea").value.split("")
            x = 0
            inpu.forEach(e => {
                if (e == "%") {
                    x = -4
                    konk = []
                }
                


                // a is not covered


                if (x > 0) {

                    rot.push(String.fromCharCode(e.charCodeAt(0) - 1))
                } else {

                    konk += e


                }


                if (konk.length > 4) {
                    if (konk == "%264D") {
                        konk = "<"
                    }

                    if (konk == "%2631") {
                        konk = " "
                    }

                    if (konk == "%264E") {
                        konk = "="
                    }

                    if (konk == "%2633") {
                        konk = "'"
                    }

                    if (konk == "%264F") {
                        konk = ">"
                    }


                    

                    if (konk == "%261B") {
                        konk = "\n"
                    }


                    
                    

                    rot.push(konk)
                    konk = []
                }




                // else conk e to previous so to make a string to convert to extended char e.g space or brackets...
                x++
            })
            document.getElementById("myRot1").value = rot.join("")
        }

    </script>
</body>

</html>